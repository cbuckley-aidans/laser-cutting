<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adobe Illustrator Basics Tutorial</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/inter-ui/3.19.3/inter.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/intro.js/6.0.0/intro.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intro.js/6.0.0/introjs.min.css">
</head>
<body>
    <div class="tutorial-container">
        <!-- Left Sidebar Navigation -->
        <div class="sidebar">
            <div class="sidebar-logo">ADOBE<br>ILLUSTRATOR<br>BASICS</div>
            <div class="step-button active" data-step="0" data-tooltip="Learning Intentions and Success Criteria">
                <i class="fas fa-list-ol"></i>
            </div>
            <div class="step-button" data-step="1" data-tooltip="File Setup">
                <span>1</span>
            </div>
            <div class="step-button" data-step="2" data-tooltip="Saving & Navigation">
                <span>2</span>
            </div>
            <div class="step-button" data-step="3" data-tooltip="Basic Shapes and Selection Tools">
                <span>3</span>
            </div>
            <div class="step-button" data-step="4" data-tooltip="Stroke & Fill Settings">
                <span>4</span>
            </div>
        </div>

        <!-- Middle Instructions Panel -->
        <div class="instructions-panel">
            <h1 id="current-step-title">Learning Intentions and Success Criteria</h1>
            
            <div id="step-instructions">
                <!-- Will be populated by JavaScript -->
            </div>

            <!-- Navigation Buttons -->
            <div class="navigation">
                <button id="prevButton" class="nav-button" disabled><i class="fas fa-arrow-left"></i> Previous</button>
                <button id="nextButton" class="nav-button">Next <i class="fas fa-arrow-right"></i></button>
            </div>

            <!-- Progress Bar -->
            <div class="progress-container">
                <div class="progress-text">Progress: <span id="progress-percentage">0%</span></div>
                <div class="progress-bar">
                    <div class="progress" style="width: 0%;"></div>
                </div>
            </div>

            <div class="footer">
                Made with <span style="color: var(--accent-color);">â™¥</span> by <span id="creator-name">Buckley</span>
            </div>
        </div>

        <!-- Right Content Display Area -->
        <div class="content-display">
            <div class="card">
                <h2 id="content-title">Learning Intentions and Success Criteria</h2>
                <div id="media-content">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for viewing images -->
    <div id="imageModal" class="modal">
        <span class="modal-close">&times;</span>
        <img id="modalImage" class="modal-content">
    </div>

    <script>
        // Tutorial content configuration
        // Define your step titles
        const stepTitles = [
            "Learning Intentions and Success Criteria",
            "Step 1: File Setup",
            "Step 2: Saving & Navigation",
            "Step 3: Basic Shapes and Selection Tools",
            "Step 4: Stroke & Fill Settings"
        ];

        // Define your step instructions (middle panel content)
        const stepInstructions = [
            // Step 0: Introduction
            `<h3>Learning Intentions and Success Criteria</h3>
            
            <div class="card">
                <p><strong>Learning Intentions:</strong></p>
                <ol class="steps-list">
                    <li>Learn how to set up files in Adobe Illustrator</li>
                    <li>Create and manipulate basic shapes and get around the workspace</li>
                    <li>Apply correct stroke and fill settings for laser cutting and engraving</li>
                </ol>
            
                <p><strong>Success Criteria:</strong></p>
                <ol class="steps-list">
                    <li>You can correctly set up and save a new document with proper dimensions and settings</li>
                    <li>You can apply the correct stroke and fill settings to make shapes for laser cutting</li>
                </ol>
            </div>

            <div class="tip-box">
                <div class="tip-title">Tutorial Overview</div>
                <p>This tutorial will guide you through the essential skills needed to create designs for laser cutting in Adobe Illustrator. You'll learn how to set up your document, create and manipulate shapes, and apply the correct settings for successful laser cutting and engraving.</p>
            </div>`,
            
            // Step 1
            `<h3>File Setup</h3>
            <p>In this step, you'll learn how to create a new document with the correct settings for laser cutting projects.</p>
            
            <div class="card">
                <h4>Creating a New Document:</h4>
                <ol class="steps-list">
                    <li>Open Adobe Illustrator</li>
                    <li>Go to File > New (or press Ctrl+N)</li>
                    <li>Set the following parameters:
                        <ul>
                            <li>Colour Mode: RGB</li>
                            <li>Width: 600mm</li>
                            <li>Height: 300mm</li>
                            <li>Units: Millimeters</li>
                        </ul>
                    </li>
                    <li>Click "Create" to open your new document</li>
                </ol>
            </div>
            
            <div class="tip-box">
                <div class="tip-title">File Setup Tip</div>
                <p>Using the correct dimensions from the start will save you time later. For laser cutting projects, always set up your document in millimeters for precision cutting.</p>
            </div>`,
            
            // Step 2
            `<h3>Saving & Navigation</h3>
            <p>In this step, you'll learn how to save your work properly and navigate around your document efficiently.</p>
            
            <div class="card">
                <h4>Saving Your File:</h4>
                <ol class="steps-list">
                    <li>Go to File > Save (or press Ctrl+S)</li>
                    <li>Choose 'Save to Creative Cloud'</li>
                    <li>Name your file with the format: "FirstName-Lastname-ClassNumber" if you haven't already (Example: Bob-Buckley-6A)</li>
                    <li>Click "Save"</li>
                    <li>Remember to save frequently as you work (Ctrl+S)</li>
                </ol>
            </div>

            <div class="card">
                <h4>Navigation Controls:</h4>
                <ul class="steps-list">
                    <li><span class="kbd">Alt</span> + scroll wheel to zoom in and out</li>
                    <li><span class="kbd">Space</span> + left mouse button to pan around the document</li>
                    <li>Middle Mouse button to pan around the document</li>
                    <li><span class="kbd">Ctrl</span> + <span class="kbd">+</span> to zoom in</li>
                    <li><span class="kbd">Ctrl</span> + <span class="kbd">-</span> to zoom out</li>
                    <li><span class="kbd">Ctrl</span> + <span class="kbd">0</span> to fit artboard in window</li>
                    <li><span class="kbd">Ctrl</span> + <span class="kbd">Y</span> to toggle between Preview and Outline view</li>
                    <li><span class="kbd">Ctrl</span> + <span class="kbd">R</span> to show/hide rulers</li>
                </ul>
            </div>
            
            <div class="alert-box alert-info">
                <p><strong>Pro tip</strong></p>
                <p>When you need to see fine details of your work, especially for technical drawings, toggle to Outline view using Ctrl+Y. This shows all paths regardless of stroke weight, making it easier to spot issues with your design.</p>
            </div>`,
            
            // Step 3
            `<h3>Basic Shapes and Selection Tools</h3>
            <p>In this step, you'll learn to create and manipulate basic shapes using Illustrator's shape and selection tools.</p>
            
            <div class="card">
                <h4>Shape Tools:</h4>
                <ul class="steps-list">
                    <li><span class="kbd">M</span> - Rectangle Tool</li>
                    <li><span class="kbd">L</span> - Ellipse Tool</li>
                    <li><span class="kbd">P</span> - Pen Tool</li>
                    <li><span class="kbd">/</span> - Line Tool</li>
                </ul>
            </div>

            <div class="card">
                <h4>Selection Tools:</h4>
                <ul class="steps-list">
                    <li><span class="kbd">V</span> - Selection Tool (selects entire objects)</li>
                    <li><span class="kbd">A</span> - Direct Selection Tool (selects points/anchors)</li>
                    <li><span class="kbd">Shift</span> + click to select multiple objects</li>
                </ul>
            </div>
            
            <div class="card">
                <h4>Creating and Selecting Shapes:</h4>
                <ol class="steps-list">
                    <li>Choose a shape tool from the toolbar (or use the keyboard shortcuts)</li>
                    <li>Click once on the artboard to set exact dimensions in a dialog box</li>
                    <li>Or click and drag to create a shape by hand</li>
                    <li>Hold Shift while dragging to create perfectly proportioned shapes (perfect circles, squares)</li>
                    <li>Select the black Selection tool or press V and try dragging around your object to move it</li>
                    <li>Select the white Direct Selection tool or press A. Double click your shape, and then try dragging edges, corners, or the dots to experiment with changing the shape itself</li>
                </ol>
            </div>
            
            <div class="tip-box">
                <div class="tip-title">Selection Tip</div>
                <p>Understanding the difference between the Selection Tool (V) and Direct Selection Tool (A) is crucial. The regular Selection Tool works with whole objects, while the Direct Selection Tool gives you control over specific points and segments, which is perfect for detailed adjustments.</p>
            </div>`,
            
            // Step 4
            `<h3>Stroke & Fill Settings</h3>
            <p>In this step, you'll learn the correct stroke and fill settings to prepare your designs for laser cutting and engraving.</p>
            
            <div class="alert-box alert-warning">
                <p><strong>IMPORTANT!</strong></p>
                <p>If these settings aren't used correctly, your design won't cut properly on the laser cutter.</p>
            </div>
            
            <div class="card">
                <h4>Laser Cutting Settings:</h4>
                <ol class="steps-list">
                    <li>For <strong>cutting lines</strong> (where you want the laser to cut through the material):
                        <ul>
                            <li>Fill: No fill</li>
                            <li>Stroke width: 0.003 pt</li>
                        </ul>
                    </li>
                    <li>For <strong>engraving</strong> (where you want the laser to mark but not cut through):
                        <ul>
                            <li>Stroke: 1 pt black</li>
                            <li>Fill: Black fill</li>
                        </ul>
                    </li>
                </ol>
            </div>

            <div class="alert-box alert-warning">
                <p><strong>IMPORTANT!</strong></p>
                <p>ALWAYS check with your teacher before trying to engrave shapes. For engraving images, check out the specific image tracing tutorial.</p>
            </div>
            
            <div class="card">
                <h4>Accessing Stroke and Fill Settings:</h4>
                <ol class="steps-list">
                    <li>Select your object with the Selection Tool (V)</li>
                    <li>Open the Stroke panel (Window > Stroke) to adjust stroke weight</li>
                    <li>Use the Color panel (Window > Color) to set your stroke and fill colors</li>
                    <li>You can also use the Properties panel for quick access to most settings</li>
                    <li>To remove a fill or stroke, click the "None" option (white square with red diagonal line)</li>
                </ol>
            </div>
            
            <div class="alert-box alert-info">
                <p><strong>Pro tip</strong></p>
                <p>It's normal not to see your thin cutting lines easily. Press CTRL + Y to enter Outline View, which shows all your lines clearly regardless of thickness.</p>
            </div>`
        ];

        // Define your media content (right panel)
        const stepMedia = [
            // Step 0: Introduction
            `<div class="alert-box alert-info">
                <p><strong>Tutorial Overview</strong></p>
                <p>This tutorial will guide you through the basics of Adobe Illustrator for laser cutting projects. By the end, you'll be able to set up files correctly, create basic shapes, and apply the proper settings for laser cutting and engraving.</p>
            </div>

            <div class="alert-box alert-warning">
                <p><strong><i class="fas fa-info-circle"></i> How to use this resource</strong></p>
                <p>Click the button below to learn how to navigate the page.</p>
                <button id="startWalkthrough" class="nav-button">
                    <i class="fas fa-walking"></i> Start Interactive Tour
                </button>
            </div>`,
            
            // Step 1
            `<div class="video-container">
                <video width="100%" controls autoplay loop muted playsinline>
                    <source src="https://i.imgur.com/fsy3w7O.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
            </div>
            
            <div class="carousel">
                <div class="carousel-controls">
                    <button class="carousel-btn prev-btn">&#10094;</button>
                    <button class="carousel-btn next-btn">&#10095;</button>
                </div>
                <div class="carousel-container" id="carousel-example">
                    <div class="carousel-slide">
                        <div class="image-container">
                            <img src="https://i.imgur.com/ayw6bjo.png" alt="Open Adobe Illustrator" class="cursor-pointer">
                            <div class="zoom-hint"><i class="fas fa-search-plus"></i> Click to zoom</div>
                        </div>
                        <p>Open Adobe Illustrator. Click the blue 'New File' button.</p>
                    </div>
                    <div class="carousel-slide">
                        <div class="image-container">
                            <img src="https://i.imgur.com/Ga2XaNR.png" alt="File Setup Settings" class="cursor-pointer">
                            <div class="zoom-hint"><i class="fas fa-search-plus"></i> Click to zoom</div>
                        </div>
                        <p>Ensure you change the following settings underlined in green.</p>
                    </div>
                </div>
                <div class="carousel-indicators" id="carousel-indicators-example">
                    <div class="carousel-indicator active" data-index="0"></div>
                    <div class="carousel-indicator" data-index="1"></div>
                </div>
            </div>`,
            
            // Step 2
            `<div class="video-container">
                <video width="100%" controls autoplay loop muted playsinline>
                    <source src="https://i.imgur.com/gdmdcgM.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
            </div>

            <div class="carousel">
                <div class="carousel-controls">
                    <button class="carousel-btn prev-btn">&#10094;</button>
                    <button class="carousel-btn next-btn">&#10095;</button>
                </div>
                <div class="carousel-container" id="carousel-example">
                    <div class="carousel-slide">
                        <div class="image-container">
                            <img src="https://i.imgur.com/RaVutcE.png" alt="Save file step 1" class="cursor-pointer">
                            <div class="zoom-hint"><i class="fas fa-search-plus"></i> Click to zoom</div>
                        </div>
                        <p>Click 'File' at the top left -> 'Save'.</p>
                    </div>
                    <div class="carousel-slide">
                        <div class="image-container">
                            <img src="https://i.imgur.com/HQgFjzO.png" alt="Save file step 2" class="cursor-pointer">
                            <div class="zoom-hint"><i class="fas fa-search-plus"></i> Click to zoom</div>
                        </div>
                        <p>Click 'Save to Creative Cloud'.</p>
                    </div>
                    <div class="carousel-slide">
                        <div class="image-container">
                            <img src="https://i.imgur.com/HJNqN1U.png" alt="Save file step 3" class="cursor-pointer">
                            <div class="zoom-hint"><i class="fas fa-search-plus"></i> Click to zoom</div>
                        </div>
                        <p>Make sure you've named your file and click 'Save'.</p>
                    </div>
                    <div class="carousel-slide">
                        <div class="image-container">
                            <img src="https://i.imgur.com/It8bKYX.png" alt="Navigation controls" class="cursor-pointer">
                            <div class="zoom-hint"><i class="fas fa-search-plus"></i> Click to zoom</div>
                        </div>
                        <p>Now try practicing the navigation controls. Press CTRL + 0 to reset your view!</p>
                    </div>
                </div>
                <div class="carousel-indicators" id="carousel-indicators-example">
                    <div class="carousel-indicator active" data-index="0"></div>
                    <div class="carousel-indicator" data-index="1"></div>
                    <div class="carousel-indicator" data-index="2"></div>
                    <div class="carousel-indicator" data-index="3"></div>
                </div>
            </div>

            <div class="shortcut-category">
                <div class="shortcut-title">
                    <i class="fas fa-keyboard"></i> Essential Keyboard Shortcuts
                </div>
                <div class="shortcut-grid">
                    <div class="shortcut-item">
                        <div class="kbd-combo">
                            <span class="kbd">Ctrl</span>
                            <span class="kbd-plus">+</span>
                            <span class="kbd">S</span>
                        </div>
                        <div class="shortcut-action">Save</div>
                    </div>
                    <div class="shortcut-item">
                        <div class="kbd-combo">
                            <span class="kbd">Ctrl</span>
                            <span class="kbd-plus">+</span>
                            <span class="kbd">0</span>
                        </div>
                        <div class="shortcut-action">Fit to View</div>
                    </div>
                    <div class="shortcut-item">
                        <div class="kbd-combo">
                            <span class="kbd">Alt</span>
                            <span class="kbd-plus">+</span>
                            <span class="kbd">Scroll</span>
                        </div>
                        <div class="shortcut-action">Zoom</div>
                    </div>
                    <div class="shortcut-item">
                        <div class="kbd-combo">
                            <span class="kbd">Space</span>
                        </div>
                        <div class="shortcut-action">Pan</div>
                    </div>
                </div>
            </div>`,
            
            // Step 3
            `<div class="video-container">
                <video width="100%" controls autoplay loop muted playsinline>
                    <source src="https://i.imgur.com/pWV9XkG.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
            </div>

            <div class="carousel">
                <div class="carousel-controls">
                    <button class="carousel-btn prev-btn">&#10094;</button>
                    <button class="carousel-btn next-btn">&#10095;</button>
                </div>
                <div class="carousel-container" id="carousel-example">
                    <div class="carousel-slide">
                        <div class="image-container">
                            <img src="https://i.imgur.com/FInOlHg.png" alt="Expand toolbar" class="cursor-pointer">
                            <div class="zoom-hint"><i class="fas fa-search-plus"></i> Click to zoom</div>
                        </div>
                        <p>Click to expand your toolbar to see more options.</p>
                    </div>
                    <div class="carousel-slide">
                        <div class="image-container">
                            <img src="https://i.imgur.com/kHoluHx.png" alt="Rectangle tool" class="cursor-pointer">
                            <div class="zoom-hint"><i class="fas fa-search-plus"></i> Click to zoom</div>
                        </div>
                        <p>Click the square tool or press M on your keyboard. Click once to set specific measurements, or click and drag to visually create a shape.</p>
                    </div>
                    <div class="carousel-slide">
                        <div class="image-container">
                            <img src="https://i.imgur.com/DzT2KfC.png" alt="Selection tool" class="cursor-pointer">
                            <div class="zoom-hint"><i class="fas fa-search-plus"></i> Click to zoom</div>
                        </div>
                        <p>Click the black Selection tool or press V on your keyboard. Try dragging around your shape.</p>
                    </div>
                    <div class="carousel-slide">
                        <div class="image-container">
                            <img src="https://i.imgur.com/hyNnnlu.png" alt="Direct Selection tool" class="cursor-pointer">
                            <div class="zoom-hint"><i class="fas fa-search-plus"></i> Click to zoom</div>
                        </div>
                        <p>Click the white Direct Selection tool or press A on your keyboard. Double click your shape, and then drag a part of it to see what changes.</p>
                    </div>
                </div>
                <div class="carousel-indicators" id="carousel-indicators-example">
                    <div class="carousel-indicator active" data-index="0"></div>
                    <div class="carousel-indicator" data-index="1"></div>
                    <div class="carousel-indicator" data-index="2"></div>
                    <div class="carousel-indicator" data-index="3"></div>
                </div>
            </div>

            <div class="shortcut-category">
                <div class="shortcut-title">
                    <i class="fas fa-shapes"></i> Shape & Selection Tools
                </div>
                <div class="shortcut-grid">
                    <div class="shortcut-item">
                        <div class="kbd-combo">
                            <span class="kbd">M</span>
                        </div>
                        <div class="shortcut-action">Rectangle Tool</div>
                    </div>
                    <div class="shortcut-item">
                        <div class="kbd-combo">
                            <span class="kbd">L</span>
                        </div>
                        <div class="shortcut-action">Ellipse Tool</div>
                    </div>
                    <div class="shortcut-item">
                        <div class="kbd-combo">
                            <span class="kbd">V</span>
                        </div>
                        <div class="shortcut-action">Selection Tool</div>
                    </div>
                    <div class="shortcut-item">
                        <div class="kbd-combo">
                            <span class="kbd">A</span>
                        </div>
                        <div class="shortcut-action">Direct Selection</div>
                    </div>
                </div>
            </div>`,
            
            // Step 4
            `<div class="video-container">
                <video width="100%" controls autoplay loop muted playsinline>
                    <source src="https://i.imgur.com/UUzmy7U.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
            </div>

            <div class="carousel">
                <div class="carousel-controls">
                    <button class="carousel-btn prev-btn">&#10094;</button>
                    <button class="carousel-btn next-btn">&#10095;</button>
                </div>
                <div class="carousel-container" id="carousel-example">
                    <div class="carousel-slide">
                        <div class="image-container">
                            <img src="https://i.imgur.com/vk6pZ2w.png" alt="Stroke and Fill Settings" class="cursor-pointer">
                            <div class="zoom-hint"><i class="fas fa-search-plus"></i> Click to zoom</div>
                        </div>
                        <p>Select your shape first. Then, on the side panel on the right, set fill to None (white with a red line through it), and Stroke to 0.003 pt.</p>
                    </div>
                </div>
                <div class="carousel-indicators" id="carousel-indicators-example">
                    <div class="carousel-indicator active" data-index="0"></div>
                </div>
            </div>

            <div class="alert-box alert-warning">
                <p><strong>Laser Cutting Requirements</strong></p>
                <ul class="steps-list">
                    <li><strong>For Cutting:</strong> No fill, 0.003 pt black stroke</li>
                    <li><strong>For Engraving:</strong> Black fill, 1 pt stroke (check with teacher first)</li>
                </ul>
                <p>These settings are crucial for the laser cutter to properly recognize what to cut and what to engrave.</p>
            </div>`
        ];

        // Current step tracking
        let currentStep = 0;
        const totalSteps = stepInstructions.length;

        // DOM Elements
        const stepButtons = document.querySelectorAll('.step-button');
        const stepTitleEl = document.getElementById('current-step-title');
        const instructionsPanel = document.getElementById('step-instructions');
        const mediaContent = document.getElementById('media-content');
        const contentTitle = document.getElementById('content-title');
        const prevButton = document.getElementById('prevButton');
        const nextButton = document.getElementById('nextButton');
        const progressBar = document.querySelector('.progress');
        const progressPercentage = document.getElementById('progress-percentage');

        // Image modal
        const modal = document.getElementById('imageModal');
        const modalImg = document.getElementById('modalImage');
        const modalClose = document.querySelector('.modal-close');

        // Initialize the tutorial
        function showStep(step) {
            // Update active step button
            stepButtons.forEach((button, index) => {
                button.classList.toggle('active', index === step);
            });

            // Update step title
            stepTitleEl.textContent = stepTitles[step];
            contentTitle.textContent = stepTitles[step];

            // Update content
            instructionsPanel.innerHTML = stepInstructions[step];
            mediaContent.innerHTML = stepMedia[step];

            // Update navigation buttons
            prevButton.disabled = step === 0;
            nextButton.style.display = step === totalSteps - 1 ? 'none' : 'flex';
            
            // Update progress
            const progress = Math.round(((step + 1) / totalSteps) * 100);
            progressBar.style.width = `${progress}%`;
            progressPercentage.textContent = `${progress}%`;
            
            // Initialize carousels if present
            initCarousels();
            
            currentStep = step;
        }

        // Initialize all carousels on the page
        function initCarousels() {
            // Find all carousel elements in the current step
            document.querySelectorAll('.carousel').forEach((carouselElement) => {
                const carouselContainer = carouselElement.querySelector('.carousel-container');
                if (!carouselContainer) return;
                
                const slides = carouselContainer.querySelectorAll('.carousel-slide');
                if (slides.length <= 1) return;
                
                // Get carousel controls
                const prevBtn = carouselElement.querySelector('.prev-btn');
                const nextBtn = carouselElement.querySelector('.next-btn');
                const indicators = carouselElement.querySelector('.carousel-indicators');
                
                if (!prevBtn || !nextBtn || !indicators) return;
                
                // Clear existing indicators and recreate them
                indicators.innerHTML = '';
                slides.forEach((_, i) => {
                    const indicator = document.createElement('div');
                    indicator.className = `carousel-indicator ${i === 0 ? 'active' : ''}`;
                    indicator.dataset.index = i;
                    indicator.addEventListener('click', () => {
                        scrollToSlide(carouselContainer, indicators, i);
                    });
                    indicators.appendChild(indicator);
                });
                
                // Track the current slide for this carousel
                carouselContainer.dataset.currentSlide = '0';
                
                // Add click handlers to navigation buttons
                prevBtn.onclick = function() {
                    const currentSlide = parseInt(carouselContainer.dataset.currentSlide || '0');
                    const newSlide = (currentSlide - 1 + slides.length) % slides.length;
                    scrollToSlide(carouselContainer, indicators, newSlide);
                    carouselContainer.dataset.currentSlide = newSlide.toString();
                };
                
                nextBtn.onclick = function() {
                    const currentSlide = parseInt(carouselContainer.dataset.currentSlide || '0');
                    const newSlide = (currentSlide + 1) % slides.length;
                    scrollToSlide(carouselContainer, indicators, newSlide);
                    carouselContainer.dataset.currentSlide = newSlide.toString();
                };
            });
        }

        // Scroll carousel to specific slide
        function scrollToSlide(carousel, indicators, index) {
            // Calculate the scroll position
            const slideWidth = carousel.clientWidth;
            const scrollPosition = slideWidth * index;
            
            // Animate the scroll
            carousel.scrollTo({
                left: scrollPosition,
                behavior: 'smooth'
            });
            
            // Update indicators
            const allIndicators = indicators.querySelectorAll('.carousel-indicator');
            allIndicators.forEach((ind, i) => {
                ind.classList.toggle('active', i === index);
            });
        }

        // Simple tooltip implementation
        function setupTooltips() {
            // Remove any existing tooltips
            const existingTooltips = document.querySelectorAll('.tooltip');
            existingTooltips.forEach(t => t.remove());
            
            // Create new tooltip element
            const tooltip = document.createElement('div');
            tooltip.className = 'tooltip';
            document.body.appendChild(tooltip);
            
            // Add event listeners to all step buttons
            const stepButtons = document.querySelectorAll('.step-button');
            stepButtons.forEach(button => {
                const tooltipText = button.getAttribute('data-tooltip');
                if (!tooltipText) return;
                
                // On mouse enter
                button.addEventListener('mouseenter', () => {
                    // Set tooltip text
                    tooltip.textContent = tooltipText;
                    
                    // Position tooltip based on viewport width
                    const rect = button.getBoundingClientRect();
                    if (window.innerWidth <= 1024) {
                        // Position below on mobile
                        tooltip.className = 'tooltip bottom';
                        tooltip.style.top = `${rect.bottom + 10}px`;
                        tooltip.style.left = `${rect.left + rect.width/2}px`;
                        tooltip.style.transform = 'translateX(-50%)';
                    } else {
                        // Position to the right on desktop
                        tooltip.className = 'tooltip right';
                        tooltip.style.top = `${rect.top + rect.height/2}px`;
                        tooltip.style.left = `${rect.right + 10}px`;
                        tooltip.style.transform = 'translateY(-50%)';
                    }
                    
                    // Make tooltip visible
                    tooltip.style.opacity = '1';
                });
                
                // On mouse leave
                button.addEventListener('mouseleave', () => {
                    tooltip.style.opacity = '0';
                });
            });
        }

        // Event Listeners
        stepButtons.forEach((button, index) => {
            button.addEventListener('click', () => showStep(index));
        });

        prevButton.addEventListener('click', () => {
            if (currentStep > 0) showStep(currentStep - 1);
        });

        nextButton.addEventListener('click', () => {
            if (currentStep < totalSteps - 1) showStep(currentStep + 1);
        });

        // Image modal functionality
        document.addEventListener('click', (e) => {
            if (e.target.tagName === 'IMG' && e.target.parentElement.classList.contains('image-container')) {
                modal.style.display = 'block';
                modalImg.src = e.target.src;
                modalImg.alt = e.target.alt;
            }
        });

        modalClose.addEventListener('click', () => {
            modal.style.display = 'none';
        });

        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                modal.style.display = 'none';
            }
        });

        // Close modal with Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && modal.style.display === 'block') {
                modal.style.display = 'none';
            }
        });

        // Creator name with confetti
        document.getElementById('creator-name').addEventListener('click', () => {
            confetti({
                particleCount: 100,
                spread: 70,
                origin: { y: 0.8 },
                colors: ['#002654', '#f7f7f7', '#f0f0f0', '#191919']
            });
        });

        // Initialize introjs walkthrough
        document.addEventListener('click', (e) => {
            if (e.target.id === 'startWalkthrough' || e.target.parentElement.id === 'startWalkthrough') {
                const intro = introJs();
                
                intro.setOptions({
                    steps: [
                        {
                            element: document.querySelector('.sidebar'),
                            intro: 'Use these numbered icons to navigate between different steps of the tutorial. Click on any number to jump directly to that step.',
                            position: 'right'
                        },
                        {
                            element: document.querySelector('.instructions-panel'),
                            intro: 'Read the step-by-step instructions in this middle panel. These detailed instructions will guide you through each part of the tutorial.',
                            position: 'right'
                        },
                        {
                            element: document.querySelector('.content-display'),
                            intro: 'View demonstration videos and images that show exactly how to perform each action.',
                            position: 'left'
                        },
                        {
                            element: document.querySelector('.navigation'),
                            intro: 'Use these buttons to move forward and backward through the tutorial steps.',
                            position: 'top'
                        },
                        {
                            element: document.getElementById('current-step-title'),
                            intro: 'This shows which step you are currently viewing. Always check this to know where you are in the tutorial.',
                            position: 'bottom'
                        }
                    ],
                    showBullets: true,
                    showProgress: true,
                    disableInteraction: false,
                    doneLabel: 'Got it!'
                });
                
                intro.start();
                
                // After tour completes, show a success message
                intro.oncomplete(function() {
                    confetti({
                        particleCount: 100,
                        spread: 70,
                        origin: { y: 0.6 },
                        colors: ['#002654', '#f7f7f7', '#f0f0f0', '#191919']
                    });
                });
            }
        });

        // Initialize with first step and set up tooltips
        document.addEventListener('DOMContentLoaded', () => {
            showStep(0);
            setupTooltips();
            
            // Update tooltips on window resize
            window.addEventListener('resize', () => {
                setupTooltips();
            });
            
            // Update tooltips whenever a step button is clicked
            document.querySelectorAll('.step-button').forEach(button => {
                button.addEventListener('click', () => {
                    setTimeout(setupTooltips, 100);
                });
            });
        });
    </script>
</body>
</html>
